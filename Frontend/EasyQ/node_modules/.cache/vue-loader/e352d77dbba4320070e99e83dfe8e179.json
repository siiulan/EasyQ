{"remainingRequest":"/Users/xushuoni/Desktop/copy_web/Frontend/EasyQ/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xushuoni/Desktop/copy_web/Frontend/EasyQ/src/views/ResetPwd.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xushuoni/Desktop/copy_web/Frontend/EasyQ/src/views/ResetPwd.vue","mtime":1647971451967},{"path":"/Users/xushuoni/Desktop/copy_web/Frontend/EasyQ/node_modules/cache-loader/dist/cjs.js","mtime":1647971536847},{"path":"/Users/xushuoni/Desktop/copy_web/Frontend/EasyQ/node_modules/babel-loader/lib/index.js","mtime":1647971536606},{"path":"/Users/xushuoni/Desktop/copy_web/Frontend/EasyQ/node_modules/cache-loader/dist/cjs.js","mtime":1647971536847},{"path":"/Users/xushuoni/Desktop/copy_web/Frontend/EasyQ/node_modules/vue-loader/lib/index.js","mtime":1647971540902}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vbXBvcnQgTG9naW5JbWFnZSBmcm9tICcvVXNlcnMvcmV4dGFuZy9EZXNrdG9wL0ZFdnVlL3Z1ZS1maXJzdC1hcHAvc3JjL2Fzc2V0cy9sb2dpbi1pbWFnZS5wbmcnCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKICAgIGV4cG9ydCBkZWZhdWx0IHsKICAgICAgICBkYXRhKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgaW5wdXQ6IHsKICAgICAgICAgICAgICAgIHB3ZCA6ICcnLAogICAgICAgICAgICAgICAgcHdkQ29uZmlybWVkIDogJycKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBSZXNldFRva2VuIDogbnVsbCwKICAgICAgICAgICAgICAgIHB3ZE1hdGNoZWQgOiB0cnVlLAogICAgICAgICAgICAgICAgcmVzZXRlcnJvcjpudWxsLAogICAgICAgICAgICAgICAgdHlwZWNoZWNrZWQgOiB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG1ldGhvZHM6ewogICAgICAgICAgICB0eXBlY2hlY2soKXsKICAgICAgICAgICAgICAgIHZhciBkZWNpbWFsID0gIC9eKD89LipcZCkoPz0uKlthLXpdKSg/PS4qW0EtWl0pKD89LipbXmEtekEtWjAtOV0pKD8hLipccykuezgsMTV9JC8KICAgICAgICAgICAgICAgIGlmKHRoaXMuaW5wdXQucHdkLmxlbmd0aCA8IDgpewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYodGhpcy5pbnB1dC5wd2QubWF0Y2goZGVjaW1hbCkpewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGlmTWF0Y2hQd2QoKXsKICAgICAgICAgICAgICBpZih0aGlzLnB3ZCA9PSB0aGlzLnB3ZENvbmZpcm1lZCl7CiAgICAgICAgICAgICAgICB0aGlzLnB3ZE1hdGNoZWQgPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgdGhpcy5wd2RNYXRjaGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgfSAgICAgICAgICAgIAogICAgICAgICAgICB9LAogICAgICAgICAgICBnZXRUb2tlbigpewogICAgICAgICAgICAgIHRoaXMuUmVzZXRUb2tlbiA9IHRoaXMuJHJvdXRlLnBhcmFtcy5SZXNldFRva2VuOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuUmVzZXRUb2tlbikKICAgICAgICAgICAgfSwKICAgICAgICBhc3luYyAgaGFuZGxlUmVzZXQoKSB7CiAgICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgdGhpcy50eXBlY2hlY2soKTsKICAgICAgICAgICAgICAgIHRoaXMuaWZNYXRjaFB3ZCgpOwogICAgICAgICAgICAgICAgaWYodGhpcy50eXBlY2hlY2tlZCA9PSBmYWxzZSB8fCB0aGlzLnB3ZE1hdGNoZWQgPT0gZmFsc2UgKXsKICAgICAgICAgICAgICAgICAgdGhyb3cgInZhbGlkYXRpb24gZmFpbGVkIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KCdodHRwOi8vNTQuMTYzLjM4LjkzL2FwaS91c2VyL3Jlc2V0L3JlcXVlc3QvJyArIHRoaXMuUmVzZXRUb2tlbix7CiAgICAgICAgICAgICAgICBuZXdQYXNzd29yZDp0aGlzLmlucHV0LnB3ZCwKICAgICAgICAgICAgICAgIHZlcmlmeVRva2VuOiB0aGlzLlJlc2V0VG9rZW4sCiAgICAgICAgICAgICAgICB9LHtoZWFkZXJzOiB7J0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyx9fSk7CiAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT09IHRydWUpewogICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0ZXJyb3IgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9yZXNldHN1Y2Nlc3MnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgY2F0Y2h7CiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0ZXJyb3IgPSB0cnVlCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vb25zdWJtaXQgPT09IGZhbHNlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjcmVhdGVkKCl7CiAgICAgICAgICB0aGlzLmdldFRva2VuKCkKICAgICAgICB9CiAgICB9Cg=="},{"version":3,"sources":["ResetPwd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"ResetPwd.vue","sourceRoot":"src/views","sourcesContent":["<template>\n <section class=\"vh-100\">\n  <div class=\"container py-5 h-100\">\n   <div class=\"row d-flex justify-content-center align-items-center h-100\">\n    <div class=\"col-12 col-md-8 col-lg-6 col-xl-5\">\n      <div class=\"alert alert-danger\" v-show=\"pwdMatched === false\">\n             <strong>Reset password Failure : passwords don't match </strong>\n      </div>\n      <div class=\"alert alert-danger\" v-show=\"reseterror == true\">\n             <strong>Reset password Failure </strong>\n      </div> \n      <h4 class=\"display-6 mb-4\"> Reset password  </h4>\n      <div class=\"card shadow-2-strong\" style=\"border-radius: 1rem;\">          \n        <div class=\"card-body p-5\" >\n             <div class=\"alert alert-danger\" role=\"alert\" v-if=\"typechecked !== true\">\n                    <p class=\"text-danger\"> * At least 8 characters</p>\n                    <p class=\"text-danger\"> * A mixture of both uppercase and lowercases letters </p>\n                    <p class=\"text-danger\"> * Contains at least a special character e.g., ! @ # ? ]</p>\n              </div>\n            <form @submit.prevent=\"handleReset\">\n    \n              <!-- Password input -->\n              <div class=\"form-outline mb-4\">\n                <label class=\"form-label\" style=\"font-size:20px;\" for=\"resetpwd\"> <strong>New Password </strong></label>\n                <input type=\"password\" id=\"resetpwd\" class=\"form-control form-control-lg\" required=\"required\" v-model=\"input.pwd\" />\n              </div>\n              <div class=\"form-outline mb-4\">\n                <label class=\"form-label\" style=\"font-size:20px;\" for=\"resetpwdConfirm\"> <strong>Confirm Password </strong></label>\n                <input type=\"password\" id=\"resetpwdConfirm\" class=\"form-control form-control-lg\" required=\"required\" v-model=\"input.pwdConfirmed\" />\n              </div>  \n              <div class=\"alert alert-danger\" role=\"alert\" v-if=\"pwdMatched !== true\">\n                    Password does not match !\n              </div>  \n              <div class=\"d-flex justify-content-around align-items-center mb-4 float-left\">\n                <!--<router-link to = \"/signin\" >return to sign in </router-link> -->\n              </div>\n    \n              <!-- Submit button -->\n              <div class=\"col-xs-3\">\n              <button type=\"submit\" class=\"btn btn-warning mr-2 btn-lg btn-block\"> Reset password </button>\n              </div>\n            </form>\n           </div>\n         </div>\n      </div>\n    </div>\n    </div>\n  </section>\n</template>\n\n<script>\n//mport LoginImage from '/Users/rextang/Desktop/FEvue/vue-first-app/src/assets/login-image.png'\nimport axios from 'axios'\n    export default {\n        data() {\n            return {\n                input: {\n                pwd : '',\n                pwdConfirmed : ''\n                },\n                ResetToken : null,\n                pwdMatched : true,\n                reseterror:null,\n                typechecked : true\n            }\n        },\n        methods:{\n            typecheck(){\n                var decimal =  /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{8,15}$/\n                if(this.input.pwd.length < 8){\n                    return false;\n                }\n                else if(this.input.pwd.match(decimal)){\n                    return true;\n                }\n                else{\n                    return false;\n                }\n            },\n            ifMatchPwd(){\n              if(this.pwd == this.pwdConfirmed){\n                this.pwdMatched = true;\n              }\n              else{\n                this.pwdMatched = false;\n              }            \n            },\n            getToken(){\n              this.ResetToken = this.$route.params.ResetToken;\n              console.log(this.ResetToken)\n            },\n        async  handleReset() {\n              try{\n                this.typecheck();\n                this.ifMatchPwd();\n                if(this.typechecked == false || this.pwdMatched == false ){\n                  throw \"validation failed\"\n                }\n                const response = await axios.post('http://54.163.38.93/api/user/reset/request/' + this.ResetToken,{\n                newPassword:this.input.pwd,\n                verifyToken: this.ResetToken,\n                },{headers: {'Content-type': 'application/json',}});\n                if(response.data.success === true){\n                  this.reseterror = false;\n                  this.$router.push('/resetsuccess');\n                }\n              }\n              catch{\n                this.reseterror = true\n                return false; //onsubmit === false\n              }\n              \n            }\n        },\n        created(){\n          this.getToken()\n        }\n    }\n</script>\n\n<style scoped>\n</style>\n"]}]}