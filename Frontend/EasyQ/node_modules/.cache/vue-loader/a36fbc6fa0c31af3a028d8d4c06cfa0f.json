{"remainingRequest":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/src/views/StudentAddClassInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/src/views/StudentAddClassInfo.vue","mtime":1647200041394},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/cache-loader/dist/cjs.js","mtime":1645686453000},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/thread-loader/dist/cjs.js","mtime":1645686453000},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/babel-loader/lib/index.js","mtime":1645686455000},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/cache-loader/dist/cjs.js","mtime":1645686453000},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/vue-loader/lib/index.js","mtime":1645686455000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCmV4cG9ydCBkZWZhdWx0IHsKICAgIG1vdW50ZWQ6IGZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy5nZXRJbmZvKCk7CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIGlucHV0OnsKICAgICAgICAgICAgICAgIHRlcm06ICcnLAogICAgICAgICAgICAgICAgY2xhc3NOdW1iZXI6ICcnLAogICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnJywKICAgICAgICAgICAgICAgIGludml0YXRpb25Db2RlOiAnJwogICAgICAgICAgICB9LAogICAgICAgICAgICAvLyB1c2VybmFtZTogZ2V0Q29va2llKCJ1c2VybmFtZSIpLCAvLyBmb3IgYmFja2VuZCB0byBzYXZlIGNsYXNzIGluZm8KICAgICAgICAgICAgaXNTdWNjZXNzOiBmYWxzZSwKICAgICAgICAgICAgdXNlcklkIDogZ2V0Q29va2llKCJpZCIpLAogICAgICAgICAgICBjb3VzZUlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuQ0xBU1NfSUQsCiAgICAgICAgfQogICAgfSwKICAgIAogICAgbWV0aG9kczp7CgogICAgICAgIC8vIGFzeW5jIGdldEluZm8oKXsKICAgICAgICAvLyAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgLy8gICAgICAgICBjb3Vyc2VJZCA6IHRoaXMuY291cnNlSWQsCiAgICAgICAgLy8gICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkCiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KCdodHRwOi8vNTQuMTYzLjM4LjkzL2FwaS91c2VyL3N0dWRlbnQvY2xhc3NlcycsIHsKICAgICAgICAvLyAgICAgICAgIGRhdGEKICAgICAgICAvLyAgICAgfSx7aGVhZGVyczp7J0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ319KTsKICAgICAgICAgICAgCiAgICAgICAgLy8gfSwKICAgICAgICAKCiAgICAgICAgYXN5bmMgYWRkKCl7CgogICAgICAgICAgICAvLyB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgLy8gICAgIHVzZXJJZDogdGhpcy4KICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KCdodHRwOi8vNTQuMTYzLjM4LjkzL2FwaS91c2VyL3N0dWRlbnQvYWRkY2xhc3MnLHsKICAgICAgICAgICAgICAgIHRlcm06IHRoaXMuaW5wdXQudGVybSwKICAgICAgICAgICAgICAgIGNsYXNzTnVtYmVyOiB0aGlzLmlucHV0LmNsYXNzTnVtYmVyLAogICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0aGlzLmlucHV0LmNsYXNzTmFtZSwKICAgICAgICAgICAgICAgIGludml0YXRpb25Db2RlOiB0aGlzLmlucHV0Lmludml0YXRpb25Db2RlLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOgogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmlzY2xhc3NleGlzdGVkID09IGZhbHNlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDbGFzcyBub3QgZXhpc3RzIScpOwogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdDbGFzcyBub3QgZXhpc3RzIScpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTdWNjZXNzID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuaXNFbnJvbGxlZCA9PSB0cnVlKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1lvdSBoYXMgYmVlbiBlbnJvbGxlZCBpbiB0aGlzIGNsYXNzJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdZb3UgaGFzIGJlZW4gZW5yb2xsZWQgaW4gdGhpcyBjbGFzcycpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU3VjY2VzcyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5pc0NvZGVSaWdodCA9PSBmYWxzZSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1dyb25nIGNvZGUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdXcm9uZyBjb2RlIScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1N1Y2Nlc3MgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1N1Y2Nlc3MgPSB0cnVlOyAgICAKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaChlcnJvcil7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICBhbGVydCgnV3JvbmcgcmVxdWVzdCcpOwogICAgICAgICAgICAgICAgdGhpcy5pc1N1Y2Nlc3MgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfTsKZnVuY3Rpb24gZ2V0Q29va2llKGNuYW1lKXsKICAgIGxldCBuYW1lID0gY25hbWUgKyAiPSI7CiAgICBsZXQgZGVjb2RlQ29va2llID0gZGVjb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmNvb2tpZSk7CiAgICBsZXQgY2EgPSBkZWNvZGVDb29raWUuc3BsaXQoJzsnKTsKICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjYS5sZW5ndGg7IGkrKyl7CiAgICAgICAgbGV0IGMgPSBjYVtpXTsKICAgICAgICB3aGlsZShjLmNoYXJBdCgwKSA9PSAnICcpewogICAgICAgIGMgPSBjLnN1YnN0cmluZygxKTsKICAgICAgICB9CiAgICAgICAgaWYoYy5pbmRleE9mKG5hbWUpID09IDApewogICAgICAgIHJldHVybiBjLnN1YnN0cmluZyhuYW1lLmxlbmd0aCwgYy5sZW5ndGgpOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiAiIjsKfQovLyB9Cg=="},{"version":3,"sources":["StudentAddClassInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudentAddClassInfo.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"add class info\">\n        <form @submit.prevent=\"onAddClass\">\n            <div class=\"form-group\" style=\"margin-left: 70px; margin-top:40px ;margin-right:70px\">\n                <label for=\"exampleFormControlSelect1\">Term</label>\n                <input type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" v-model=\"term\">\n                <!-- <select class=\"form-control\" id=\"exampleFormControlSelect1\" v-model=\"term\">\n                <option>21 Winter</option>\n                <option>21 Spring</option>\n                <option>21 Fall</option>\n                <option>22 Winter</option>\n                <option>22 Spring</option>\n                <option>22 Fall</option>\n                </select> -->\n            </div>\n            <div class=\"row\">\n                <div class=\"col\" style=\"margin-left: 70px; margin-top:30px\">\n                    <label for=\"exampleFormControlInput1\">Class Number</label>\n                    <input type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" v-model=\"classNumber\">\n                    <label for=\"exampleFormControlInput1\" style=\"margin-top:30px\">Invitation code</label>\n                    <input type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" v-model=\"invitationCode\">\n                    </div>\n\n                <div class=\"col\" style=\"margin-right:70px; margin-top:30px\">\n                    <label for=\"exampleFormControlSelect1\">Class Name</label>\n                    <input type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" v-model=\"className\">\n                </div>     \n            </div>\n         \n        <!-- <div class=\"form-group\" style=\"margin-left: 70px; margin-top:30px; margin-right: 150px\">\n            <label for=\"exampleFormControlSelect2\">Instructor Name</label>\n            <input type=\"instructor\" class=\"form-control\" id=\"exampleFormControlInput1\">\n        </div>\n            <div class=\"form-group\" style=\"margin: 70px\">\n                <label for=\"exampleFormControlSelect2\">Office hour schedule</label>\n                <div class=\"row\">\n                    <div class=\"col\">\n                        <select class=\"form-control\" id=\"weekday\">\n                            <option>Monday</option>\n                            <option>Tuesday</option>\n                            <option>Wednesday</option>\n                            <option>Thursday</option>\n                            <option>Friday</option>\n                            <option>Saturday</option>\n                            <option>Sunday</option>\n                        </select>\n                        <input type=\"time\" class=\"form-control\" id=\"exampleFormControlInput1\">\n                    </div>\n                    <div class=\"col\">\n                        <input type=\"time\" class=\"form-control\" id=\"exampleFormControlInput1\">\n                    </div>\n                    <div class=\"col\">\n                        <input type=\"time\" class=\"form-control\" id=\"exampleFormControlInput1\">\n                    </div>\n                </div>\n            </div> -->\n            <!-- <div class=\"form-group\" style=\"margin: 70px\">\n                <label for=\"exampleFormControlTextarea1\">Class Description</label>\n                <textarea class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"3\"></textarea>\n            </div> -->\n            <button type=\"submit\" class=\"btn btn-primary\" style=\"margin-left:70px; margin-top:30px\">Submit</button>\n    </form>\n        <div class=\"alert alert-success\" v-if=\"isSuccess\" style=\"margin-top:20px\">Successfully added!</div>\n    </div>\n</template>\n<script>\n\nimport axios from 'axios'\nexport default {\n    mounted: function(){\n        this.getInfo();\n    },\n    data() {\n        return{\n            input:{\n                term: '',\n                classNumber: '',\n                className: '',\n                invitationCode: ''\n            },\n            // username: getCookie(\"username\"), // for backend to save class info\n            isSuccess: false,\n            userId : getCookie(\"id\"),\n            couseId: this.$route.params.CLASS_ID,\n        }\n    },\n    \n    methods:{\n\n        // async getInfo(){\n        //     var data = {\n        //         courseId : this.courseId,\n        //         userId: this.userId\n        //     }\n        //     const response = await axios.post('http://54.163.38.93/api/user/student/classes', {\n        //         data\n        //     },{headers:{'Content-type': 'application/json'}});\n            \n        // },\n        \n\n        async add(){\n\n            // var data = {\n            //     userId: this.\n            // }\n\n            try{\n                const response = await axios.post('http://54.163.38.93/api/user/student/addclass',{\n                term: this.input.term,\n                classNumber: this.input.classNumber,\n                className: this.input.className,\n                invitationCode: this.input.invitationCode,\n                },\n                {\n                    headers:\n                    {\n                        'Content-type':'application/json',\n                    }\n                });\n\n                if(response.isclassexisted == false)\n                {\n                    console.log('Class not exists!');\n                    alert('Class not exists!');\n                    this.isSuccess = false;\n                }\n                else\n                {\n                    if(response.isEnrolled == true)\n                    {\n                        console.log('You has been enrolled in this class');\n                        alert('You has been enrolled in this class');\n                        this.isSuccess = false;\n                    }\n                    else{\n                        if(response.isCodeRight == false)\n                        {\n                            console.log('Wrong code');\n                            alert('Wrong code!');\n                            this.isSuccess = false;\n                        }\n                        else{\n                            this.isSuccess = true;    \n                        }\n                    }\n                }\n            }\n            catch(error){\n                console.log(error);\n                alert('Wrong request');\n                this.isSuccess = false;\n                return false;\n            }\n        }\n    }\n};\nfunction getCookie(cname){\n    let name = cname + \"=\";\n    let decodeCookie = decodeURIComponent(document.cookie);\n    let ca = decodeCookie.split(';');\n    for(let i = 0; i < ca.length; i++){\n        let c = ca[i];\n        while(c.charAt(0) == ' '){\n        c = c.substring(1);\n        }\n        if(c.indexOf(name) == 0){\n        return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n// }\n</script>\n"]}]}