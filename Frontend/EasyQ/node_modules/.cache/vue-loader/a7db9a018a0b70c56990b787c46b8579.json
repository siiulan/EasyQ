<<<<<<< HEAD
{"remainingRequest":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/src/views/TAQueue.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/src/views/TAQueue.vue","mtime":1648664094371},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/cache-loader/dist/cjs.js","mtime":1647973709718},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/babel-loader/lib/index.js","mtime":1647973709486},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/cache-loader/dist/cjs.js","mtime":1647973709718},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/vue-loader/lib/index.js","mtime":1647973716572}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKZXhwb3J0IGRlZmF1bHQgewogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuc2V0U3RhcnRCdXR0b24oKTsKICAgIHRoaXMuZ2V0SW5mbygpOwogICAgdGhpcy50aW1lciA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgIGlmICh0aGlzLnN0YXJ0ZWQ9PXRydWUpewogICAgICAgIHRoaXMuZ2V0bGVuZ3RoKCkKICAgICAgfQoKICAgIH0sIDUwMDApCiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJ1dHRvbl92YWw6ICIiLAogICAgICBzdGFydGVkOiBmYWxzZSwKICAgICAgcWxlbmd0aDogIiIsCgogICAgICBzbmFtZTogIiIsCiAgICAgIHNlbWFpbDogIiIsCiAgICAgIHNxdWVzdGlvbjogIiIsCgogICAgICB1c2VyX2lkOiBnZXRDb29raWUoImlkIiksCiAgICAgIGNsYXNzX2lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuY291cnNlaWQsCiAgICAgIHZkZXM6ICIiLAogICAgICB2bGluazogIiIsCiAgICAgIG9oaWQ6ICIiLAogICAgICBlbmRlZDogIiIsCiAgICAgIHRpbWVyOiBudWxsLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldFN0YXJ0QnV0dG9uKCkgewogICAgICBpZiAodGhpcy5zdGFydGVkID09IGZhbHNlKSB7CiAgICAgICAgICAgIHRoaXMuYnV0dG9uX3ZhbCA9ICJTdGFydCBNZWV0aW5nIgogICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmJ1dHRvbl92YWwgPSAiRW5kIE1lZXRpbmciCiAgICAgIH0KICAgICAgY29uc29sZS5sb2codGhpcy5jbGFzc19pZCk7CiAgICB9LAogICAgYXN5bmMgZ2V0SW5mbygpIHsKICAgICAgICBjb25zb2xlLmxvZygiZ29vZDEiKTsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIHRhX2lkOiB0aGlzLnVzZXJfaWQsCiAgICAgICAgICBjbGFzc19pZDogdGhpcy5jbGFzc19pZCwKICAgICAgICB9OwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgnaHR0cDovLzEwMC4yNS4yMTkuMTcvYXBpL3VzZXIvdGEvZ2V0b2ZmaWNlaG91cmlkJywgZGF0YSx7aGVhZGVyczogeydDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsfX0pOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmV4aXN0T0ggPT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5vaGlkID0gcmVzcG9uc2UuZGF0YS5vZmZpY2VfaG91cl9pZDsKICAgICAgICAgIHRoaXMudmxpbmsgPSByZXNwb25zZS5kYXRhLm1lZXRpbmdfbGluazsKICAgICAgICAgIGNvbnNvbGUubG9nKCJnb29kMiIpOwogICAgICAgICAgdGhpcy5idXR0b25fdmFsID0gIkVuZCBNZWV0aW5nIjsKICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7CiAgICAgICAgfQogICAgfSwKICAgIGFzeW5jIHN0YXJ0X2VuZCgpIHsKICAgICAgaWYgKHRoaXMuc3RhcnRlZCA9PSBmYWxzZSkgewogICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7CiAgICAgICAgdGhpcy5zZXRTdGFydEJ1dHRvbigpOwoKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIHVzZXJfaWQ6IHRoaXMudXNlcl9pZCwKICAgICAgICAgIGNsYXNzX2lkOiB0aGlzLmNsYXNzX2lkLAogICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMudmRlcywKICAgICAgICAgIG1lZXRpbmdfbGluazogdGhpcy52bGluaywKICAgICAgICB9OwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgnaHR0cDovLzEwMC4yNS4yMTkuMTcvYXBpL3VzZXIvdGEvc3RhcnRvZmZpY2Vob3VyJywgZGF0YSx7aGVhZGVyczogeydDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsfX0pOwogICAgICAgIHRoaXMub2hpZCA9IHJlc3BvbnNlLmRhdGEuT0ZGSUNFX0hPVVJfSUQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7CiAgICAgICAgdGhpcy5zZXRTdGFydEJ1dHRvbigpOwoKICAgICAgICBkYXRhID0gewogICAgICAgICAgdXNlcl9pZDogdGhpcy51c2VyX2lkLAogICAgICAgICAgb2ZmaWNlX2hvdXJfaWQ6IHRoaXMub2hpZCwKICAgICAgICB9OwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgnaHR0cDovLzEwMC4yNS4yMTkuMTcvYXBpL3VzZXIvdGEvZW5kb2ZmaWNlaG91cicsIGRhdGEse2hlYWRlcnM6IHsnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLH19KTsKICAgICAgICB0aGlzLmVuZGVkID0gcmVzcG9uc2UuZGF0YS5TVUNDRVNTRlVMTFlfRU5ERUQ7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBnZXRsZW5ndGgoKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHVzZXJfaWQ6IHRoaXMudXNlcl9pZCwKICAgICAgICBvZmZpY2VfaG91cl9pZDogdGhpcy5vaGlkLAogICAgICB9OwogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoJ2h0dHA6Ly8xMDAuMjUuMjE5LjE3L2FwaS91c2VyL3RhL2dldHF1ZXVlbGVuZ3RoJywgZGF0YSx7aGVhZGVyczogeydDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsfX0pOwogICAgICB0aGlzLnFsZW5ndGggPSByZXNwb25zZS5kYXRhLlFVRVVFX0xFTkdUSDsKICAgIH0sCiAgCiAgICBhc3luYyBuZXh0KCkgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICB1c2VyX2lkOiB0aGlzLnVzZXJfaWQsCiAgICAgICAgb2ZmaWNlX2hvdXJfaWQ6IHRoaXMub2hpZCwKICAgICAgfTsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KCdodHRwOi8vMTAwLjI1LjIxOS4xNy9hcGkvdXNlci90YS9wb3BzdHVkZW50JywgZGF0YSx7aGVhZGVyczogeydDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsfX0pOwogICAgICB0aGlzLnNuYW1lID0gcmVzcG9uc2UuZGF0YS5OQU1FOwogICAgICB0aGlzLnNlbWFpbCA9IHJlc3BvbnNlLmRhdGEuRU1BSUxfQUREUkVTUzsKICAgICAgdGhpcy5zcXVlc3Rpb24gPSByZXNwb25zZS5kYXRhLlFVRVNUSU9OOwogICAgICB0aGlzLmdldGxlbmd0aCgpOwogICAgfSwKICB9LAp9OwoKZnVuY3Rpb24gZ2V0Q29va2llKGNuYW1lKSB7CiAgbGV0IG5hbWUgPSBjbmFtZSArICI9IjsKICBsZXQgZGVjb2RlZENvb2tpZSA9IGRlY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5jb29raWUpOwogIGxldCBjYSA9IGRlY29kZWRDb29raWUuc3BsaXQoJzsnKTsKICBmb3IobGV0IGkgPSAwOyBpIDxjYS5sZW5ndGg7IGkrKykgewogICAgbGV0IGMgPSBjYVtpXTsKICAgIHdoaWxlIChjLmNoYXJBdCgwKSA9PSAnICcpIHsKICAgICAgYyA9IGMuc3Vic3RyaW5nKDEpOwogICAgfQogICAgaWYgKGMuaW5kZXhPZihuYW1lKSA9PSAwKSB7CiAgICAgIHJldHVybiBjLnN1YnN0cmluZyhuYW1lLmxlbmd0aCwgYy5sZW5ndGgpOwogICAgfQogIH0KICByZXR1cm4gIiI7Cn0K"},{"version":3,"sources":["TAQueue.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TAQueue.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"main\">\n    <span id=\"left\" class=\"half d-flex flex-column\">\n        <div class=\"mt-5 mb-3 ms-5 h4\">Number of people in queue: {{qlength}}</div>\n        <div class=\"mt-2 mb-1 ms-5 me-5 h-25 border border-secondary d-flex flex-column overflow-hidden\">\n            <div class=\"mt-2 ms-2 fs-5\">Current Student: {{sname}}</div>\n            <div class=\"ms-2 fs-6\">Email: {{semail}}</div>\n            <div class=\"ms-2 fs-6\">Question: {{squestion}}</div>\n        </div>\n        <button class=\"cente mt-4 btn btn-warning col-xl-3\" @click=\"next\">Next Student</button>\n    </span>\n    <span id=\"right\" class=\"half d-flex flex-column\">\n        <div class=\"mt-5 mb-3 ms-5 text-white h4\">Meeting Information</div>\n        <div class=\"mt-1 mb-1 ms-5 text-white fs-6\">Meeting Link</div>\n        <input class=\"ms-5 me-5 higher\" v-model=\"vlink\"/>\n        <button class=\"cente mt-4 btn btn-warning col-xl-3\" @click=\"start_end\">{{button_val}}</button>\n    </span>\n  </div>\n</template>\n<script>\nimport axios from 'axios'\nexport default {\n  mounted: function () {\n    this.setStartButton();\n    this.getInfo();\n    this.timer = window.setInterval(() => {\n      if (this.started==true){\n        this.getlength()\n      }\n\n    }, 5000)\n  },\n  beforeDestroy() {\n    clearInterval(this.timer)\n  },\n  data() {\n    return {\n      button_val: \"\",\n      started: false,\n      qlength: \"\",\n\n      sname: \"\",\n      semail: \"\",\n      squestion: \"\",\n\n      user_id: getCookie(\"id\"),\n      class_id: this.$route.params.courseid,\n      vdes: \"\",\n      vlink: \"\",\n      ohid: \"\",\n      ended: \"\",\n      timer: null,\n    };\n  },\n  methods: {\n    setStartButton() {\n      if (this.started == false) {\n            this.button_val = \"Start Meeting\"\n      } else {\n            this.button_val = \"End Meeting\"\n      }\n      console.log(this.class_id);\n    },\n    async getInfo() {\n        console.log(\"good1\");\n        var data = {\n          ta_id: this.user_id,\n          class_id: this.class_id,\n        };\n        const response = await axios.post('http://100.25.219.17/api/user/ta/getofficehourid', data,{headers: {'Content-type': 'application/json',}});\n        if (response.data.existOH == true) {\n          this.ohid = response.data.office_hour_id;\n          this.vlink = response.data.meeting_link;\n          console.log(\"good2\");\n          this.button_val = \"End Meeting\";\n          this.started = true;\n        }\n    },\n    async start_end() {\n      if (this.started == false) {\n        this.started = true;\n        this.setStartButton();\n\n        var data = {\n          user_id: this.user_id,\n          class_id: this.class_id,\n          description: this.vdes,\n          meeting_link: this.vlink,\n        };\n        const response = await axios.post('http://100.25.219.17/api/user/ta/startofficehour', data,{headers: {'Content-type': 'application/json',}});\n        this.ohid = response.data.OFFICE_HOUR_ID;\n      } else {\n        this.started = false;\n        this.setStartButton();\n\n        data = {\n          user_id: this.user_id,\n          office_hour_id: this.ohid,\n        };\n        const response = await axios.post('http://100.25.219.17/api/user/ta/endofficehour', data,{headers: {'Content-type': 'application/json',}});\n        this.ended = response.data.SUCCESSFULLY_ENDED;\n      }\n    },\n    async getlength() {\n      var data = {\n        user_id: this.user_id,\n        office_hour_id: this.ohid,\n      };\n      const response = await axios.post('http://100.25.219.17/api/user/ta/getqueuelength', data,{headers: {'Content-type': 'application/json',}});\n      this.qlength = response.data.QUEUE_LENGTH;\n    },\n  \n    async next() {\n      var data = {\n        user_id: this.user_id,\n        office_hour_id: this.ohid,\n      };\n      const response = await axios.post('http://100.25.219.17/api/user/ta/popstudent', data,{headers: {'Content-type': 'application/json',}});\n      this.sname = response.data.NAME;\n      this.semail = response.data.EMAIL_ADDRESS;\n      this.squestion = response.data.QUESTION;\n      this.getlength();\n    },\n  },\n};\n\nfunction getCookie(cname) {\n  let name = cname + \"=\";\n  let decodedCookie = decodeURIComponent(document.cookie);\n  let ca = decodedCookie.split(';');\n  for(let i = 0; i <ca.length; i++) {\n    let c = ca[i];\n    while (c.charAt(0) == ' ') {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return \"\";\n}\n</script>\n<style>\n#main {\n    width: 100%;\n    height: 100%;\n    position: fixed;\n}\n#right {\n    margin-left:50%;\n    background-color: #3380C8;\n}\n.half {\n    width: 50%;\n    height: 100%;\n    position: fixed;\n}\n.higher {\n    height: 22%;\n}\n.cente {\n    align-self:center;\n}\n\n</style>\n"]}]}
=======
{"remainingRequest":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/src/views/TAQueue.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/src/views/TAQueue.vue","mtime":1648662341172},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/cache-loader/dist/cjs.js","mtime":1647973709718},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/babel-loader/lib/index.js","mtime":1647973709486},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/cache-loader/dist/cjs.js","mtime":1647973709718},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/vue-loader/lib/index.js","mtime":1647973716572}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKZXhwb3J0IGRlZmF1bHQgewogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuc2V0U3RhcnRCdXR0b24oKTsKICAgIHRoaXMuZ2V0SW5mbygpOwogICAgdGhpcy50aW1lciA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgIGlmICh0aGlzLnN0YXJ0ZWQ9PXRydWUpewogICAgICAgIHRoaXMuZ2V0bGVuZ3RoKCkKICAgICAgfQoKICAgIH0sIDUwMDApCiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJ1dHRvbl92YWw6ICIiLAogICAgICBzdGFydGVkOiBmYWxzZSwKICAgICAgcWxlbmd0aDogIiIsCgogICAgICBzbmFtZTogIiIsCiAgICAgIHNlbWFpbDogIiIsCiAgICAgIHNxdWVzdGlvbjogIiIsCgogICAgICB1c2VyX2lkOiBnZXRDb29raWUoImlkIiksCiAgICAgIGNsYXNzX2lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuY291cnNlaWQsCiAgICAgIHZkZXM6ICIiLAogICAgICB2bGluazogIiIsCiAgICAgIG9oaWQ6ICIiLAogICAgICBlbmRlZDogIiIsCiAgICAgIHRpbWVyOiBudWxsLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldFN0YXJ0QnV0dG9uKCkgewogICAgICBpZiAodGhpcy5zdGFydGVkID09IGZhbHNlKSB7CiAgICAgICAgICAgIHRoaXMuYnV0dG9uX3ZhbCA9ICJTdGFydCBNZWV0aW5nIgogICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmJ1dHRvbl92YWwgPSAiRW5kIE1lZXRpbmciCiAgICAgIH0KICAgICAgY29uc29sZS5sb2codGhpcy5jbGFzc19pZCk7CiAgICB9LAogICAgYXN5bmMgZ2V0SW5mbygpIHsKICAgICAgICBjb25zb2xlLmxvZygiZ29vZDEiKTsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIHRhX2lkOiB0aGlzLnVzZXJfaWQsCiAgICAgICAgICBjbGFzc19pZDogdGhpcy5jbGFzc19pZCwKICAgICAgICB9OwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgnaHR0cDovLzEwMC4yNS4yMTkuMTcvYXBpL3VzZXIvdGEvZ2V0b2ZmaWNlaG91cmlkJywgZGF0YSx7aGVhZGVyczogeydDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsfX0pOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmV4aXN0T0ggPT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5vaGlkID0gcmVzcG9uc2UuZGF0YS5vZmZpY2VfaG91cl9pZDsKICAgICAgICAgIHRoaXMudmxpbmsgPSByZXNwb25zZS5kYXRhLm1lZXRpbmdfbGluazsKICAgICAgICAgIGNvbnNvbGUubG9nKCJnb29kMiIpOwogICAgICAgICAgdGhpcy5idXR0b25fdmFsID0gIkVuZCBNZWV0aW5nIjsKICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7CiAgICAgICAgfQogICAgfSwKICAgIGFzeW5jIHN0YXJ0X2VuZCgpIHsKICAgICAgaWYgKHRoaXMuc3RhcnRlZCA9PSBmYWxzZSkgewogICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7CiAgICAgICAgdGhpcy5zZXRTdGFydEJ1dHRvbigpOwoKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIHVzZXJfaWQ6IHRoaXMudXNlcl9pZCwKICAgICAgICAgIGNsYXNzX2lkOiB0aGlzLmNsYXNzX2lkLAogICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMudmRlcywKICAgICAgICAgIG1lZXRpbmdfbGluazogdGhpcy52bGluaywKICAgICAgICB9OwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgnaHR0cDovLzEwMC4yNS4yMTkuMTcvYXBpL3VzZXIvdGEvc3RhcnRvZmZpY2Vob3VyJywgZGF0YSx7aGVhZGVyczogeydDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsfX0pOwogICAgICAgIHRoaXMub2hpZCA9IHJlc3BvbnNlLmRhdGEuT0ZGSUNFX0hPVVJfSUQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7CiAgICAgICAgdGhpcy5zZXRTdGFydEJ1dHRvbigpOwoKICAgICAgICBkYXRhID0gewogICAgICAgICAgdXNlcl9pZDogdGhpcy51c2VyX2lkLAogICAgICAgICAgb2ZmaWNlX2hvdXJfaWQ6IHRoaXMub2hpZCwKICAgICAgICB9OwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgnaHR0cDovLzEwMC4yNS4yMTkuMTcvYXBpL3VzZXIvdGEvZW5kb2ZmaWNlaG91cicsIGRhdGEse2hlYWRlcnM6IHsnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLH19KTsKICAgICAgICB0aGlzLmVuZGVkID0gcmVzcG9uc2UuZGF0YS5TVUNDRVNTRlVMTFlfRU5ERUQ7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBnZXRsZW5ndGgoKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHVzZXJfaWQ6IHRoaXMudXNlcl9pZCwKICAgICAgICBvZmZpY2VfaG91cl9pZDogdGhpcy5vaGlkLAogICAgICB9OwogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoJ2h0dHA6Ly8xMDAuMjUuMjE5LjE3L2FwaS91c2VyL3RhL2dldHF1ZXVlbGVuZ3RoJywgZGF0YSx7aGVhZGVyczogeydDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsfX0pOwogICAgICB0aGlzLnFsZW5ndGggPSByZXNwb25zZS5kYXRhLlFVRVVFX0xFTkdUSDsKICAgIH0sCiAgCiAgICBhc3luYyBuZXh0KCkgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICB1c2VyX2lkOiB0aGlzLnVzZXJfaWQsCiAgICAgICAgb2ZmaWNlX2hvdXJfaWQ6IHRoaXMub2hpZCwKICAgICAgfTsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KCdodHRwOi8vMTAwLjI1LjIxOS4xNy9hcGkvdXNlci90YS9wb3BzdHVkZW50JywgZGF0YSx7aGVhZGVyczogeydDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsfX0pOwogICAgICB0aGlzLnNuYW1lID0gcmVzcG9uc2UuZGF0YS5OQU1FOwogICAgICB0aGlzLnNlbWFpbCA9IHJlc3BvbnNlLmRhdGEuRU1BSUxfQUREUkVTUzsKICAgICAgdGhpcy5zcXVlc3Rpb24gPSByZXNwb25zZS5kYXRhLlFVRVNUSU9OOwogICAgICB0aGlzLmdldGxlbmd0aCgpOwogICAgfSwKICB9LAp9OwoKZnVuY3Rpb24gZ2V0Q29va2llKGNuYW1lKSB7CiAgbGV0IG5hbWUgPSBjbmFtZSArICI9IjsKICBsZXQgZGVjb2RlZENvb2tpZSA9IGRlY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5jb29raWUpOwogIGxldCBjYSA9IGRlY29kZWRDb29raWUuc3BsaXQoJzsnKTsKICBmb3IobGV0IGkgPSAwOyBpIDxjYS5sZW5ndGg7IGkrKykgewogICAgbGV0IGMgPSBjYVtpXTsKICAgIHdoaWxlIChjLmNoYXJBdCgwKSA9PSAnICcpIHsKICAgICAgYyA9IGMuc3Vic3RyaW5nKDEpOwogICAgfQogICAgaWYgKGMuaW5kZXhPZihuYW1lKSA9PSAwKSB7CiAgICAgIHJldHVybiBjLnN1YnN0cmluZyhuYW1lLmxlbmd0aCwgYy5sZW5ndGgpOwogICAgfQogIH0KICByZXR1cm4gIiI7Cn0K"},{"version":3,"sources":["TAQueue.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TAQueue.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"main\">\n    <span id=\"left\" class=\"half d-flex flex-column\">\n        <div class=\"mt-5 mb-3 ms-5 h4\">Number of people in queue: {{qlength}}</div>\n        <div class=\"mt-2 mb-1 ms-5 me-5 h-25 border border-secondary d-flex flex-column overflow-hidden\">\n            <div class=\"mt-2 ms-2 fs-5\">Current Student: {{sname}}</div>\n            <div class=\"ms-2 fs-6\">Email: {{semail}}</div>\n            <div class=\"ms-2 fs-6\">Question: {{squestion}}</div>\n        </div>\n        <button class=\"cente mt-4 btn btn-warning col-xl-3\" @click=\"next\">Next Student</button>\n    </span>\n    <span id=\"right\" class=\"half d-flex flex-column\">\n        <div class=\"mt-5 mb-3 ms-5 text-white h4\">Meeting Information</div>\n        <div class=\"mt-1 mb-1 ms-5 text-white fs-6\">Meeting Link</div>\n        <input class=\"ms-5 me-5 higher\" v-model=\"vlink\"/>\n        <button class=\"cente mt-4 btn btn-warning col-xl-3\" @click=\"start_end\">{{button_val}}</button>\n    </span>\n  </div>\n</template>\n<script>\nimport axios from 'axios'\nexport default {\n  mounted: function () {\n    this.setStartButton();\n    this.getInfo();\n    this.timer = window.setInterval(() => {\n      if (this.started==true){\n        this.getlength()\n      }\n\n    }, 5000)\n  },\n  beforeDestroy() {\n    clearInterval(this.timer)\n  },\n  data() {\n    return {\n      button_val: \"\",\n      started: false,\n      qlength: \"\",\n\n      sname: \"\",\n      semail: \"\",\n      squestion: \"\",\n\n      user_id: getCookie(\"id\"),\n      class_id: this.$route.params.courseid,\n      vdes: \"\",\n      vlink: \"\",\n      ohid: \"\",\n      ended: \"\",\n      timer: null,\n    };\n  },\n  methods: {\n    setStartButton() {\n      if (this.started == false) {\n            this.button_val = \"Start Meeting\"\n      } else {\n            this.button_val = \"End Meeting\"\n      }\n      console.log(this.class_id);\n    },\n    async getInfo() {\n        console.log(\"good1\");\n        var data = {\n          ta_id: this.user_id,\n          class_id: this.class_id,\n        };\n        const response = await axios.post('http://100.25.219.17/api/user/ta/getofficehourid', data,{headers: {'Content-type': 'application/json',}});\n        if (response.data.existOH == true) {\n          this.ohid = response.data.office_hour_id;\n          this.vlink = response.data.meeting_link;\n          console.log(\"good2\");\n          this.button_val = \"End Meeting\";\n          this.started = true;\n        }\n    },\n    async start_end() {\n      if (this.started == false) {\n        this.started = true;\n        this.setStartButton();\n\n        var data = {\n          user_id: this.user_id,\n          class_id: this.class_id,\n          description: this.vdes,\n          meeting_link: this.vlink,\n        };\n        const response = await axios.post('http://100.25.219.17/api/user/ta/startofficehour', data,{headers: {'Content-type': 'application/json',}});\n        this.ohid = response.data.OFFICE_HOUR_ID;\n      } else {\n        this.started = false;\n        this.setStartButton();\n\n        data = {\n          user_id: this.user_id,\n          office_hour_id: this.ohid,\n        };\n        const response = await axios.post('http://100.25.219.17/api/user/ta/endofficehour', data,{headers: {'Content-type': 'application/json',}});\n        this.ended = response.data.SUCCESSFULLY_ENDED;\n      }\n    },\n    async getlength() {\n      var data = {\n        user_id: this.user_id,\n        office_hour_id: this.ohid,\n      };\n      const response = await axios.post('http://100.25.219.17/api/user/ta/getqueuelength', data,{headers: {'Content-type': 'application/json',}});\n      this.qlength = response.data.QUEUE_LENGTH;\n    },\n  \n    async next() {\n      var data = {\n        user_id: this.user_id,\n        office_hour_id: this.ohid,\n      };\n      const response = await axios.post('http://100.25.219.17/api/user/ta/popstudent', data,{headers: {'Content-type': 'application/json',}});\n      this.sname = response.data.NAME;\n      this.semail = response.data.EMAIL_ADDRESS;\n      this.squestion = response.data.QUESTION;\n      this.getlength();\n    },\n  },\n};\n\nfunction getCookie(cname) {\n  let name = cname + \"=\";\n  let decodedCookie = decodeURIComponent(document.cookie);\n  let ca = decodedCookie.split(';');\n  for(let i = 0; i <ca.length; i++) {\n    let c = ca[i];\n    while (c.charAt(0) == ' ') {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return \"\";\n}\n</script>\n<style>\n#main {\n    width: 100%;\n    height: 100%;\n    position: fixed;\n}\n#right {\n    margin-left:50%;\n    background-color: #3380C8;\n}\n.half {\n    width: 50%;\n    height: 100%;\n    position: fixed;\n}\n.higher {\n    height: 22%;\n}\n.cente {\n    align-self:center;\n}\n\n</style>"]}]}
>>>>>>> copy_web
