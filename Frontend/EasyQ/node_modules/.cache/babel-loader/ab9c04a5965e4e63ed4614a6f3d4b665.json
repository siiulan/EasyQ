{"remainingRequest":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/thread-loader/dist/cjs.js!/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/babel-loader/lib/index.js!/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/src/views/ResetPwd.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/src/views/ResetPwd.vue","mtime":1647975180905},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/cache-loader/dist/cjs.js","mtime":1647973709718},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/thread-loader/dist/cjs.js","mtime":1647973716340},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/babel-loader/lib/index.js","mtime":1647973709486},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/cache-loader/dist/cjs.js","mtime":1647973709718},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/vue-loader/lib/index.js","mtime":1647973716572}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy9tcG9ydCBMb2dpbkltYWdlIGZyb20gJy9Vc2Vycy9yZXh0YW5nL0Rlc2t0b3AvRkV2dWUvdnVlLWZpcnN0LWFwcC9zcmMvYXNzZXRzL2xvZ2luLWltYWdlLnBuZycKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbnB1dDogewogICAgICAgIHB3ZDogJycsCiAgICAgICAgcHdkQ29uZmlybWVkOiAnJwogICAgICB9LAogICAgICBSZXNldFRva2VuOiBudWxsLAogICAgICBwd2RNYXRjaGVkOiB0cnVlLAogICAgICByZXNldGVycm9yOiBudWxsLAogICAgICB0eXBlY2hlY2tlZDogdHJ1ZQogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICB0eXBlY2hlY2soKSB7CiAgICAgIHZhciBkZWNpbWFsID0gL14oPz0uKlxkKSg/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlteYS16QS1aMC05XSkoPyEuKlxzKS57OCwxNX0kLzsKCiAgICAgIGlmICh0aGlzLmlucHV0LnB3ZC5sZW5ndGggPCA4KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaW5wdXQucHdkLm1hdGNoKGRlY2ltYWwpKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAoKICAgIGlmTWF0Y2hQd2QoKSB7CiAgICAgIGlmICh0aGlzLnB3ZCA9PSB0aGlzLnB3ZENvbmZpcm1lZCkgewogICAgICAgIHRoaXMucHdkTWF0Y2hlZCA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wd2RNYXRjaGVkID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgZ2V0VG9rZW4oKSB7CiAgICAgIHRoaXMuUmVzZXRUb2tlbiA9IHRoaXMuJHJvdXRlLnBhcmFtcy5SZXNldFRva2VuOwogICAgICBjb25zb2xlLmxvZyh0aGlzLlJlc2V0VG9rZW4pOwogICAgfSwKCiAgICBhc3luYyBoYW5kbGVSZXNldCgpIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLnR5cGVjaGVjaygpOwogICAgICAgIHRoaXMuaWZNYXRjaFB3ZCgpOwoKICAgICAgICBpZiAodGhpcy50eXBlY2hlY2tlZCA9PSBmYWxzZSB8fCB0aGlzLnB3ZE1hdGNoZWQgPT0gZmFsc2UpIHsKICAgICAgICAgIHRocm93ICJ2YWxpZGF0aW9uIGZhaWxlZCI7CiAgICAgICAgfQoKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoJ2h0dHA6Ly8xMDAuMjUuMjE5LjE3L2FwaS91c2VyL3Jlc2V0L3JlcXVlc3QvJyArIHRoaXMuUmVzZXRUb2tlbiwgewogICAgICAgICAgbmV3UGFzc3dvcmQ6IHRoaXMuaW5wdXQucHdkLAogICAgICAgICAgdmVyaWZ5VG9rZW46IHRoaXMuUmVzZXRUb2tlbgogICAgICAgIH0sIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLnJlc2V0ZXJyb3IgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcmVzZXRzdWNjZXNzJyk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIHsKICAgICAgICB0aGlzLnJlc2V0ZXJyb3IgPSB0cnVlOwogICAgICAgIHJldHVybiBmYWxzZTsgLy9vbnN1Ym1pdCA9PT0gZmFsc2UKICAgICAgfQogICAgfQoKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRUb2tlbigpOwogIH0KCn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACAA;AACA;AACAC;AACAC,eADA;AAEAC;AAFA,OADA;AAKAC,sBALA;AAMAC,sBANA;AAOAC,sBAPA;AAQAC;AARA;AAUA,GAZA;;AAaAC;AACAC;AACA;;AACA;AACA;AACA,OAFA,MAGA;AACA;AACA,OAFA,MAGA;AACA;AACA;AACA,KAZA;;AAaAC;AACA;AACA;AACA,OAFA,MAGA;AACA;AACA;AACA,KApBA;;AAqBAC;AACA;AACAC;AACA,KAxBA;;AAyBA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACAC,qCADA;AAEAC;AAFA,WAGA;AAAAC;AAAA;AAAA;AAAA,SAHA;;AAIA;AACA;AACA;AACA;AACA,OAdA,CAeA;AACA;AACA,qBAFA,CAEA;AACA;AAEA;;AA9CA,GAbA;;AA6DAC;AACA;AACA;;AA/DA","names":["data","input","pwd","pwdConfirmed","ResetToken","pwdMatched","reseterror","typechecked","methods","typecheck","ifMatchPwd","getToken","console","newPassword","verifyToken","headers","created"],"sourceRoot":"src/views","sources":["ResetPwd.vue"],"sourcesContent":["<template>\n <section class=\"vh-100\">\n  <div class=\"container py-5 h-100\">\n   <div class=\"row d-flex justify-content-center align-items-center h-100\">\n    <div class=\"col-12 col-md-8 col-lg-6 col-xl-5\">\n      <div class=\"alert alert-danger\" v-show=\"pwdMatched === false\">\n             <strong>Reset password Failure : passwords don't match </strong>\n      </div>\n      <div class=\"alert alert-danger\" v-show=\"reseterror == true\">\n             <strong>Reset password Failure </strong>\n      </div> \n      <h4 class=\"display-6 mb-4\"> Reset password  </h4>\n      <div class=\"card shadow-2-strong\" style=\"border-radius: 1rem;\">          \n        <div class=\"card-body p-5\" >\n             <div class=\"alert alert-danger\" role=\"alert\" v-if=\"typechecked !== true\">\n                    <p class=\"text-danger\"> * At least 8 characters</p>\n                    <p class=\"text-danger\"> * A mixture of both uppercase and lowercases letters </p>\n                    <p class=\"text-danger\"> * Contains at least a special character e.g., ! @ # ? ]</p>\n              </div>\n            <form @submit.prevent=\"handleReset\">\n    \n              <!-- Password input -->\n              <div class=\"form-outline mb-4\">\n                <label class=\"form-label\" style=\"font-size:20px;\" for=\"resetpwd\"> <strong>New Password </strong></label>\n                <input type=\"password\" id=\"resetpwd\" class=\"form-control form-control-lg\" required=\"required\" v-model=\"input.pwd\" />\n              </div>\n              <div class=\"form-outline mb-4\">\n                <label class=\"form-label\" style=\"font-size:20px;\" for=\"resetpwdConfirm\"> <strong>Confirm Password </strong></label>\n                <input type=\"password\" id=\"resetpwdConfirm\" class=\"form-control form-control-lg\" required=\"required\" v-model=\"input.pwdConfirmed\" />\n              </div>  \n              <div class=\"alert alert-danger\" role=\"alert\" v-if=\"pwdMatched !== true\">\n                    Password does not match !\n              </div>  \n              <div class=\"d-flex justify-content-around align-items-center mb-4 float-left\">\n                <!--<router-link to = \"/signin\" >return to sign in </router-link> -->\n              </div>\n    \n              <!-- Submit button -->\n              <div class=\"col-xs-3\">\n              <button type=\"submit\" class=\"btn btn-warning mr-2 btn-lg btn-block\"> Reset password </button>\n              </div>\n            </form>\n           </div>\n         </div>\n      </div>\n    </div>\n    </div>\n  </section>\n</template>\n\n<script>\n//mport LoginImage from '/Users/rextang/Desktop/FEvue/vue-first-app/src/assets/login-image.png'\nimport axios from 'axios'\n    export default {\n        data() {\n            return {\n                input: {\n                pwd : '',\n                pwdConfirmed : ''\n                },\n                ResetToken : null,\n                pwdMatched : true,\n                reseterror:null,\n                typechecked : true\n            }\n        },\n        methods:{\n            typecheck(){\n                var decimal =  /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{8,15}$/\n                if(this.input.pwd.length < 8){\n                    return false;\n                }\n                else if(this.input.pwd.match(decimal)){\n                    return true;\n                }\n                else{\n                    return false;\n                }\n            },\n            ifMatchPwd(){\n              if(this.pwd == this.pwdConfirmed){\n                this.pwdMatched = true;\n              }\n              else{\n                this.pwdMatched = false;\n              }            \n            },\n            getToken(){\n              this.ResetToken = this.$route.params.ResetToken;\n              console.log(this.ResetToken)\n            },\n        async  handleReset() {\n              try{\n                this.typecheck();\n                this.ifMatchPwd();\n                if(this.typechecked == false || this.pwdMatched == false ){\n                  throw \"validation failed\"\n                }\n                const response = await axios.post('http://100.25.219.17/api/user/reset/request/' + this.ResetToken,{\n                newPassword:this.input.pwd,\n                verifyToken: this.ResetToken,\n                },{headers: {'Content-type': 'application/json',}});\n                if(response.data.success === true){\n                  this.reseterror = false;\n                  this.$router.push('/resetsuccess');\n                }\n              }\n              catch{\n                this.reseterror = true\n                return false; //onsubmit === false\n              }\n              \n            }\n        },\n        created(){\n          this.getToken()\n        }\n    }\n</script>\n\n<style scoped>\n</style>\n"]}]}