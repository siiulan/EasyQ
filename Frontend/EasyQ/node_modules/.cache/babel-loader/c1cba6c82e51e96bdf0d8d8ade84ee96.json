{"remainingRequest":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/thread-loader/dist/cjs.js!/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/babel-loader/lib/index.js!/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/src/views/Instructor/Instructor_addTA.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/src/views/Instructor/Instructor_addTA.vue","mtime":1647407070680},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/cache-loader/dist/cjs.js","mtime":1645686453000},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/thread-loader/dist/cjs.js","mtime":1645686453000},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/babel-loader/lib/index.js","mtime":1645686455000},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/cache-loader/dist/cjs.js","mtime":1645686453000},{"path":"/Users/rextang/Desktop/ECE651/Project/EasyQ/Frontend/EasyQ/node_modules/vue-loader/lib/index.js","mtime":1645686455000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbnB1dDogewogICAgICAgIEVtYWlsOiBudWxsCiAgICAgIH0sCiAgICAgIENvdXJzZUlEOiBudWxsLAogICAgICBhZGRTdGF0dXM6IG51bGwsCiAgICAgIFRBZXhpc3Q6IG51bGwKICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgYXN5bmMgQWRkVEEoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc29sZS5sb2coImNvdXJzZSBpZDogIiArIHRoaXMuQ291cnNlSUQpOwogICAgICAgIGNvbnNvbGUubG9nKCJlbWFpbDogIiArIHRoaXMuaW5wdXQuRW1haWwpOwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgnaHR0cDovLzU0LjE2My4zOC45My9hcGkvdXNlci9pbnN0cnVjdG9yL2NsYXNzQWRkVEEnLCB7CiAgICAgICAgICBlbWFpbF9hZHJlc3M6IHRoaXMuaW5wdXQuRW1haWwsCiAgICAgICAgICBjbGFzc19pZDogdGhpcy5Db3Vyc2VJRAogICAgICAgIH0sIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGNvbnNvbGUubG9nKCJzdWNjZXNzOiAiICsgcmVzcG9uc2UuZGF0YS5zdWNjZXNzKTsKICAgICAgICBjb25zb2xlLmxvZygiZXhpc3Q6ICIgKyByZXNwb25zZS5kYXRhLmV4aXN0KTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PT0gdHJ1ZSAmJiByZXNwb25zZS5kYXRhLmV4aXN0ID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLlRBZXhpc3QgPSAwOwogICAgICAgICAgdGhpcy5hZGRTdGF0dXMgPSB0cnVlOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9pbnN0cnVjdG9yL2FkZFRBU3VjY2VzcycpOwogICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09PSBmYWxzZSAmJiByZXNwb25zZS5kYXRhLmV4aXN0ID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLlRBZXhpc3QgPSAxOwogICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09PSB0cnVlICYmIHJlc3BvbnNlLmRhdGEuZXhpc3QgPT09IGZhbHNlKSB7CiAgICAgICAgICB0aGlzLlRBZXhpc3QgPSAwOwogICAgICAgICAgdGhpcy5hZGRTdGF0dXMgPSB0cnVlOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9pbnN0cnVjdG9yL2FkZFRBVmVyaWZpY2F0aW9uJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuYWRkU3RhdHVzID0gZmFsc2U7CiAgICAgICAgICB0aHJvdyAiYWRkIFRBIGZhaWxlZCI7CiAgICAgICAgfQogICAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm4gZmFsc2U7IC8vb25zdWJtaXQgPT09IGZhbHNlCiAgICAgIH0KICAgIH0KCiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIC8vdGhpcy5hZGRTdGF0dXMgPSBudWxsOwogICAgdGhpcy5Db3Vyc2VJRCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5DTEFTU0lEOyAvL3RoaXMuQWRkVEEoKTsKICB9Cgp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACAA;AACA;AACAC;AACAC;AADA,OADA;AAIAC,oBAJA;AAKAC,qBALA;AAMAC;AANA;AAUA,GAZA;;AAaAC;AACA;AACA;AACAC;AACAA;AACA;AACAC,wCADA;AAEAC;AAFA,WAGA;AAAAC;AAAA;AAAA;AAAA,SAHA;AAIAH;AACAA;;AACA;AACA;AACA;AACA;AACA,SAJA,MAKA;AACA;AACA,SAFA,MAGA;AACA;AACA;AACA;AAEA,SALA,MAMA;AACA;AACA;AACA;AACA,OA3BA,CA4BA;AACA,qBADA,CACA;AACA;AACA;;AAjCA,GAbA;;AAgDAI;AACA;AACA,+CAFA,CAGA;AACA;;AApDA","names":["data","input","Email","CourseID","addStatus","TAexist","methods","console","email_adress","class_id","headers","created"],"sourceRoot":"src/views/Instructor","sources":["Instructor_addTA.vue"],"sourcesContent":["<template>\n<div class=\"container py-5 h-100\">\n        <div class=\"row d-flex align-items-center justify-content-center h-100\">\n            <div class=\"alert alert-danger\" v-show=\"addStatus === false \">\n             <strong> Add TA Failed </strong>\n          </div>\n            <form @submit.prevent=\"AddTA\">\n              <div class=\"alert alert-warning\" role=\"alert\" v-show=\"TAexist === 1\">\n                  This account has already been registered as TA in this course.\n              </div>\n              <!-- Email input -->\n              <div class=\"form-outline mb-4\">\n               <label class=\"form-label\" style=\"font-size:20px;\" for=\"emailaddr\"><strong> Email Address </strong></label>\n                <input type=\"text\" id=\"emailaddr\" class=\"form-control form-control-lg\" required=\"required\" v-model=\"input.Email\"/>\n              </div>\n    \n              <!-- Submit button -->\n              <div class=\"col-xs-3\">\n              <button type=\"submit\" class=\"btn btn-warning mr-2 btn-lg btn-block\"> Add as TA </button>\n              </div>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script> \nimport axios from 'axios'\nexport default {\n    data(){\n        return{\n            input: {\n                Email : null,\n            },\n            CourseID : null,\n            addStatus : null,\n            TAexist : null\n\n        }\n\n    },\n    methods:{\n        async AddTA(){\n             try{\n               console.log(\"course id: \" + this.CourseID);\n               console.log(\"email: \" + this.input.Email);\n              const response = await axios.post('http://54.163.38.93/api/user/instructor/classAddTA',{\n                    email_adress : this.input.Email,\n                    class_id : this.CourseID\n                },{headers: {'Content-type': 'application/json',}});\n                console.log(\"success: \" + response.data.success);\n                console.log(\"exist: \" + response.data.exist);\n               if(response.data.success === true && response.data.exist === true){\n                 this.TAexist = 0;\n                 this.addStatus = true;\n                 this.$router.push('/instructor/addTASuccess');\n               }\n               else if(response.data.success === false && response.data.exist === true){\n                 this.TAexist = 1;\n               }\n               else if(response.data.success === true && response.data.exist === false){\n                 this.TAexist = 0;\n                 this.addStatus = true;\n                 this.$router.push('/instructor/addTAVerification');\n\n               }\n               else {\n                 this.addStatus = false;\n                 throw \"add TA failed\";\n               }\n              }\n              catch{\n                return false; //onsubmit === false\n              }             \n        }\n    },\n    created(){\n        //this.addStatus = null;\n        this.CourseID = this.$route.params.CLASSID;\n        //this.AddTA();\n    }\n}\n</script>\n\n<style scoped>\n</style>"]}]}