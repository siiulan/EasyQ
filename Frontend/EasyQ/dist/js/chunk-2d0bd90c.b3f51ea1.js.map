{"version":3,"sources":["webpack:///./src/views/StudentOfficeHour.vue?06d4","webpack:///src/views/StudentOfficeHour.vue","webpack:///./src/views/StudentOfficeHour.vue?ecdf","webpack:///./src/views/StudentOfficeHour.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","classNumber","className","TAName","_m","queueIndex","meetingLink","staticStyle","attrs","on","startQueue","quitQueue","staticRenderFns","mounted","window","data","isQuit","userId","TAId","classId","officehourId","startQ","isActive","userQuestion","methods","headers","console","alert","getCookie","cname","c","component"],"mappings":"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","file":"js/chunk-2d0bd90c.b3f51ea1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('form',[_c('div',{staticClass:\"form-group row\"},[_c('div',{staticClass:\"col-sm-10\"},[_vm._v(\"Class Number: \"+_vm._s(_vm.classNumber))]),_c('div',{staticClass:\"col-sm-10\"},[_vm._v(\"Class Name: \"+_vm._s(_vm.className))]),_c('div',{staticClass:\"col-sm-10\"},[_vm._v(\"TA Name: \"+_vm._s(_vm.TAName))]),_vm._m(0),_c('div',{staticClass:\"col-sm-10\"},[_vm._v(\"The position of queueing: \"+_vm._s(_vm.queueIndex))]),_c('div',{staticClass:\"col-sm-10\"},[_vm._v(\"Meeting Link: \"+_vm._s(_vm.meetingLink))]),_c('div',{staticClass:\"col-sm-10\"},[_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"margin-top\":\"10px\",\"margin-right\":\"20px\"},attrs:{\"type\":\"submit\"},on:{\"click\":_vm.startQueue}},[_vm._v(\"Queue\")]),_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"type\":\"submit\"},on:{\"click\":_vm.quitQueue}},[_vm._v(\"Quit\")])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-sm-10\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"exampleFormControlTextarea1\"}},[_vm._v(\"Question:\")]),_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":\"exampleFormControlTextarea1\",\"rows\":\"3\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"container\">\n       <div class=\"row\">\n           <div class=\"col\">\n               <form>\n                    <div class=\"form-group row\">\n                        <!-- <label for=\"staticClassNumber\" class=\"col-sm-2 col-form-label\">Class Number</label> -->\n                        <div class=\"col-sm-10\">Class Number: {{classNumber}}</div>\n                            <!-- <input type=\"text\" readonly class=\"form-control-plaintext\" id=\"staticClassNumber\" value={{classNumber}}> -->\n                        \n                        <!-- <label for=\"staticClassName\" class=\"col-sm-2 col-form-label\">Class Name</label> -->\n                        <div class=\"col-sm-10\">Class Name: {{className}}</div>\n                            <!-- <input type=\"text\" readonly class=\"form-control-plaintext\" id=\"staticClassName\" value={{className}}> -->\n                        <!-- <label for=\"staticTA\" class=\"col-sm-2 col-form-label\">TA</label> -->\n                        <div class=\"col-sm-10\">TA Name: {{TAName}}</div>\n                        <!-- <div class=\"col-sm-10\">Qestion: {{userQuestion}}</div> -->\n                            <!-- <input type=\"text\" readonly class=\"form-control-plaintext\" id=\"staticClassNumber\" value={{TAName}}> -->\n                        <div class=\"col-sm-10\">\n                            <label for=\"exampleFormControlTextarea1\" class=\"form-label\">Question:</label>\n                            <textarea class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"3\"></textarea>\n                        </div>\n                        <!-- <label for=\"staticQueue\" class=\"col-sm-2 col-form-label\">The position of queueing</label>   -->\n                        <div class=\"col-sm-10\">The position of queueing: {{queueIndex}}</div>\n                            <!-- <input type=\"text\" readonly class=\"form-control-plaintext\" id=\"staticQueue\" value={{queueIndex}}> -->\n                        <div class=\"col-sm-10\">Meeting Link: {{meetingLink}}</div>\n                        <div class=\"col-sm-10\">\n                        <button type=\"submit\" class=\"btn btn-primary\" style=\"margin-top:10px; margin-right:20px\" @click=\"startQueue\">Queue</button>\n                        <button type=\"submit\" class=\"btn btn-primary\" style=\"margin-top:10px\" @click=\"quitQueue\">Quit</button>\n                    </div>\n                    </div>\n                    <!-- <button type=\"submit\" class=\"btn btn-primary\" style=\"margin-top:30px\">Submit</button> -->\n                </form>\n           </div>\n          \n           <!-- <div class=\"card\">\n               <label for=\"classnumber\">Class Number</label>\n                <input type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\">\n           </div> -->\n       </div>\n    </div>\n</template>\n<script>\nimport axios from 'axios';\nexport default {\n\n    mounted: function() {\n        this.startQueue();\n        window.setInterval(() => {\n            this.getLength()\n            }, 5000)\n    },\n\n    data(){\n        return{\n            // isQueue: false,\n            isQuit: false,\n            userId: getCookie('id'),\n            TAName: '',\n            TAId: '',\n            classNumber: '',\n            meetingLink: '',\n            queueIndex: '',\n            className: '',\n            classId : this.$route.params.classId,\n            officehourId: '',\n            startQ: false,\n            isActive: false,\n            userQuestion: ''\n        }\n    },\n    // created(){\n    //     this.handleQueue()\n    // },\n    methods:{\n\n        async officehourInfo(){\n            var data = { \n                classId: this.classId,\n                userId: this.userId,\n                userQuestion: this.userQuestion\n            }\n            // OFFICE_HOUR_ID : Office_token,\n            // CLASS_NUMBER : Class_Number,\n            // CLASS_ID : class_id,\n            // CLASS_NAME : class_Name,\n            // TA_NAME : TA_name,\n            // TA_ID : getOffice[0].USER_ID\n            const response = await axios.post('http://54.163.38.93/api/user/student/officehour/display',{data},{headers: {'Content-type' : 'application/json',}});\n            this.className = response.CLASS_NAME;\n            this.classId = response.CLASS_ID;\n            this.classNumber = response.CLASS_NUMBER;\n            this.TAName = response.TA_NAME;\n            this.TAId = response.TA_ID;\n            this.officehourId = response.OFFICE_HOUR_ID;\n        },\n\n        async startQueue() {\n            var data = { \n                classId: this.classId,\n                userId: this.userId\n            }\n            const response = await axios.post('http://54.163.38.93/api/user/student/officehour/join',{data},{headers: {'Content-type' : 'application/json',}});\n            // isinQueue: true,\n            // OFFICE_HOUR_ID : Office_token,\n            // CLASS_NUMBER : Class_Number, /\n            // CLASS_ID : class_id, /\n            // QUEUE_INDEX : data,\n            // CLASS_NAME : item_classNumber[0].CLASS_NAME, /\n            // TA_NAME : TA_name, /\n            // TA_ID : getOffice[0].USER_ID /\n            this.startQ = response.isinQueue;\n            this.className = response.CLASS_NAME;\n            this.classId = response.CLASS_ID;\n            this.classNumber = response.CLASS_NUMBER;\n            this.TAName = response.TA_NAME;\n            this.TAId = response.TA_ID;\n            this.officehourId = response.OFFICE_HOUR_ID;\n            this.queueIndex = response.QUEUE_INDEX;\n            // this.isActive = response.isActive\n        },\n        async getLength() {\n            var data = {\n                classId: this.classId,\n                userId: this.userId,\n                officehourId: this.OFFICE_HOUR_ID\n            }\n            const response = await axios.post('http://54.163.38.93/api/user/student/officehour/inqueue',{data},{headers: {'Content-type' : 'application/json',}});\n            // \"isinQueue\": true,\n            // \"OFFICE_HOUR_ID\": \"00202\",\n            // \"CLASS_NUMBER\": \"YES100\",\n            // CLASS_ID\n            // \"QUEUE_INDEX\": 3,\n            // \"TA_NAME\": \"test TA1\",\n            // \"CLASS_NAME\": \"Yes or Yes\",\n            // \"TA_ID\": \"8\"\n            this.startQ = response.isinQueue;\n            if(this.startQ == true){\n                console.log(\"In the queue\");\n                this.className = response.CLASS_NAME;\n                this.classId = response.CLASS_ID;\n                this.classNumber = response.CLASS_NUMBER;\n                this.TAName = response.TA_NAME;\n                this.TAId = response.TA_ID;\n                this.officehourId = response.OFFICE_HOUR_ID;\n                this.queueIndex = response.QUEUE_INDEX;\n            }\n            else{\n                console.log(\"Not in the queue\");\n                this.className = response.CLASS_NAME;\n                this.classNumber = response.CLASS_NUMBER;\n                this.TAName = response.TA_NAME;\n                this.TAId = response.TA_ID;\n                this.officehourId = response.OFFICE_HOUR_ID;\n                this.queueIndex = response.QUEUE_INDEX;\n                this.meetingLink = response.MEETING_LINK\n            }     \n        },\n\n        async quitQueue() {\n            var data = { \n                classId: this.classId,\n                userId: this.userId\n            }\n            // isQuit: true => quit successfully\n            // isQuit: false =>something error\n            const response = await axios.post('http://54.163.38.93/api/user/student/officehour/quit',{data},{headers: {'Content-type' : 'application/json',}});\n            this.isQuit = response.isQuit;\n            if(this.isQuit == true)\n            {\n                console.log(\"quit successfully\");\n                alert(\"Quit successfully\");\n            }\n            else{\n                console.log(\"Something wrong\");\n                alert(\"Something wrong\");\n            }\n        }\n    }\n    \n};\nfunction getCookie(cname){\n    let name = cname + \"=\";\n    let decodeCookie = decodeURIComponent(document.cookie);\n    let ca = decodeCookie.split(';');\n    for(let i = 0; i < ca.length; i++){\n        let c = ca[i];\n        while(c.charAt(0) == ' '){\n        c = c.substring(1);\n        }\n        if(c.indexOf(name) == 0){\n        return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n</script>\n\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentOfficeHour.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentOfficeHour.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StudentOfficeHour.vue?vue&type=template&id=31213a19&\"\nimport script from \"./StudentOfficeHour.vue?vue&type=script&lang=js&\"\nexport * from \"./StudentOfficeHour.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}