(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bd90c"],{"2d15":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("form",{on:{submit:function(s){return s.preventDefault(),t.startQueue.apply(null,arguments)}}},[e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-sm-10"},[t._v("Class Number: "+t._s(t.classNumber))]),e("div",{staticClass:"col-sm-10"},[t._v("Class Name: "+t._s(t.className))]),e("div",{staticClass:"col-sm-10"},[t._v("TA Name: "+t._s(t.TAName))]),e("div",{staticClass:"col-sm-10"},[e("label",{staticClass:"form-label",attrs:{for:"exampleFormControlTextarea1"}},[t._v("Question:")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.userQuestion,expression:"userQuestion"}],staticClass:"form-control",attrs:{id:"exampleFormControlTextarea1",rows:"3"},domProps:{value:t.userQuestion},on:{input:function(s){s.target.composing||(t.userQuestion=s.target.value)}}})]),e("div",{staticClass:"col-sm-10"},[t._v("The position of queueing: "+t._s(t.queueIndex))]),e("div",{staticClass:"col-sm-10"},[t._v("Meeting Link: "+t._s(t.meetingLink))]),e("div",{staticClass:"col-sm-10"},[t.isQueue?e("button",{staticClass:"btn btn-primary",staticStyle:{"margin-top":"10px","margin-right":"20px"},attrs:{type:"submit"}},[t._v("Queue")]):t._e(),e("button",{staticClass:"btn btn-primary",staticStyle:{"margin-top":"10px"},attrs:{type:"quit"},on:{click:t.quitQueue}},[e("router-link",{attrs:{to:"/StudentHome"}},[t._v("Quit")])],1)])])])])])])},i=[],o=e("bc3a"),u=e.n(o),n={mounted:function(){this.officehourInfo(),this.timer=setInterval(()=>{this.getLength()},1e3)},beforeDestroy(){clearInterval(this.timer),this.timer=null},destroyed(){clearInterval(this.timer),this.timer=null},data(){return{isQuit:!1,userId:r("id"),TAName:"",TAId:"",classNumber:"",meetingLink:"",queueIndex:"",className:"",classId:this.$route.params.classId,officehourId:"",startQ:"",isActive:!1,userQuestion:"",isQueue:!0,timer:null}},methods:{async officehourInfo(){var t={classId:this.classId,userId:this.userId};const s=await u.a.post("http://100.25.219.17/api/user/student/officehour/display",t,{headers:{"Content-type":"application/json"}});console.log("get class info",s.data),this.className=s.data.CLASS_NAME,this.classId=s.data.CLASS_ID,this.classNumber=s.data.CLASS_NUMBER,this.TAName=s.data.TA_NAME,this.TAId=s.data.TA_ID,this.officehourId=s.data.OFFICE_HOUR_ID},async startQueue(){var t={classId:this.classId,userId:this.userId,userQuestion:this.userQuestion};const s=await u.a.post("http://100.25.219.17/api/user/student/officehour/join",t,{headers:{"Content-type":"application/json"}});this.startQ=s.data.isinQueue,this.className=s.data.CLASS_NAME,this.classId=s.data.CLASS_ID,this.classNumber=s.data.CLASS_NUMBER,this.TAName=s.data.TA_NAME,this.TAId=s.data.TA_ID,this.officehourId=s.data.OFFICE_HOUR_ID,this.queueIndex=s.data.QUEUE_INDEX,this.isQueue=!1},async getLength(){var t={classId:this.classId,userId:this.userId,officehourId:this.officehourId};console.log("data",t);const s=await u.a.post("http://100.25.219.17/api/user/student/officehour/inqueue",t,{headers:{"Content-type":"application/json"}});this.startQ=s.data.isinQueue,console.log(s.data.isinQueue),1==this.startQ?(console.log("In the queue"),this.queueIndex=s.data.QUEUE_INDEX):(console.log("Not in the queue"),this.queueIndex=s.data.QUEUE_INDEX)},async quitQueue(){var t={classId:this.classId,userId:this.userId,officehourId:this.officehourId};const s=await u.a.post("http://100.25.219.17/api/user/student/officehour/quit",t,{headers:{"Content-type":"application/json"}});this.isQuit=s.data.isQuit,this.isQueue=!0,1==this.isQuit?(console.log("quit successfully"),alert("Quit successfully")):(console.log("Something wrong"),alert("Something wrong"))}}};function r(t){let s=t+"=",e=decodeURIComponent(document.cookie),a=e.split(";");for(let i=0;i<a.length;i++){let t=a[i];while(" "==t.charAt(0))t=t.substring(1);if(0==t.indexOf(s))return t.substring(s.length,t.length)}return""}var l=n,c=e("2877"),d=Object(c["a"])(l,a,i,!1,null,null,null);s["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0bd90c.1c48ba44.js.map